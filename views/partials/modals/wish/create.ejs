<!-- Модальне вікно створення бажання -->
<div id="createWishModal" class="fixed inset-0 hidden z-50 flex items-center justify-center p-4">
  <div class="absolute inset-0" style="background-color: rgba(0,0,0,0.4);"></div>
  <div class="bg-white rounded-xl w-full max-w-sm relative z-10">
    <div class="p-4 border-b border-gray-200 flex justify-between items-center">
      <h2 class="text-lg font-semibold text-gray-900">Додати бажання</h2>
      <button onclick="closeCreateWishModal()" class="text-gray-500 hover:text-gray-900">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <form action="/wishlists/<%= wishlist.id %>/wishes" method="POST" class="p-4 space-y-4"
      enctype="multipart/form-data" id="createWishForm">
      <!-- Зображення -->
      <div class="mb-4">
        <label class="block text-sm text-gray-700 mb-2">Зображення</label>
        <div class="relative h-[140px]">
          <input type="file" name="image" id="wishImage" accept="image/*" class="hidden">
          <label for="wishImage" class="block h-full">
            <div
              class="bg-white rounded-lg border-2 border-dashed border-gray-300 flex flex-col items-center justify-center h-full cursor-pointer hover:border-primary-500 hover:bg-primary-50 transition-all">
              <div id="imagePreviewContainer" class="hidden w-full h-full rounded-lg overflow-hidden">
                <img id="imagePreview" class="w-full h-full object-cover">
              </div>
              <div id="uploadPlaceholder" class="flex flex-col items-center justify-center">
                <div class="flex items-center gap-2 text-gray-400 mb-2">
                  <i class="fas fa-image text-xl"></i>
                  <i class="fas fa-plus text-sm"></i>
                </div>
                <p class="text-sm font-medium text-gray-500 mb-2">Додати зображення</p>
                <button type="button"
                  class="px-4 py-1.5 bg-gray-100 rounded-full text-xs text-gray-600 hover:bg-gray-200 transition-colors">
                  Обрати файл
                </button>
              </div>
            </div>
          </label>
        </div>
      </div>

      <!-- Основна інформація -->
      <div>
        <label for="createWishTitle" class="block text-sm text-gray-700 mb-1">Назва</label>
        <input type="text" id="createWishTitle" name="title"
          class="w-full border border-gray-300 rounded-lg py-2 px-3 text-sm" placeholder="Введіть назву бажання"
          required>
      </div>

      <div>
        <label for="createWishDescription" class="block text-sm text-gray-700 mb-1">Опис</label>
        <div class="relative">
          <textarea id="createWishDescription" name="description"
            class="w-full border border-gray-300 rounded-lg py-2 px-3 text-sm resize-none"
            placeholder="Опишіть ваше бажання..." rows="2" maxlength="1000"></textarea>
          <div class="absolute right-2 bottom-2 text-xs text-gray-400">
            <span id="charCount">0</span>/1000
          </div>
        </div>
      </div>

      <!-- Ціна і пріоритет -->
      <div class="grid grid-cols-2 gap-3">
        <div>
          <label for="createWishPrice" class="block text-sm text-gray-700 mb-1">Ціна</label>
          <div class="flex">
            <input type="text" id="createWishPrice" name="price"
              class="w-2/3 border border-gray-300 rounded-l-lg py-2 px-3 text-sm" placeholder="Введіть ціну"
              pattern="[1-9][0-9]*" inputmode="numeric">
            <select name="currency" class="w-1/3 border-l-0 border border-gray-300 rounded-r-lg py-2 px-2 text-sm">
              <option value="UAH">₴</option>
              <option value="USD">$</option>
              <option value="EUR">€</option>
            </select>
          </div>
        </div>
        <div>
          <label for="createWishPriority" class="block text-sm text-gray-700 mb-1">Пріоритет</label>
          <select id="createWishPriority" name="priority"
            class="w-full border border-gray-300 rounded-lg py-2 px-3 text-sm">
            <option value="low">Не горить</option>
            <option value="medium" selected>Можна почекати</option>
            <option value="high">Дуже хочу</option>
          </select>
        </div>
      </div>

      <div>
        <label for="createWishLink" class="block text-sm text-gray-700 mb-1">Посилання</label>
        <input type="url" id="createWishLink" name="link"
          class="w-full border border-gray-300 rounded-lg py-2 px-3 text-sm" placeholder="Вставте посилання на товар">
      </div>

      <!-- Кнопки -->
      <div class="flex gap-3 pt-2">
        <button type="button" onclick="closeCreateWishModal()"
          class="flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg text-sm">
          Скасувати
        </button>
        <button type="submit" class="flex-1 bg-gray-900 text-white py-2 rounded-lg text-sm">
          Додати
        </button>
      </div>
    </form>
  </div>
</div>